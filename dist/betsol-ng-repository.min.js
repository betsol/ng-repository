/**
 * betsol-ng-repository - Repository constructor for Angular.js
 * @version v0.0.0
 * @link https://github.com/betsol/ng-repository
 * @license MIT
 *
 * @author Slava Fomin II <s.fomin@betsol.ru>
 */
!function(t,n){"use strict";function e(t){return"/"!=t.substr(-1,1)&&(t+="/"),t}function r(t,n){return t+n}n.module("betsol.repository",["betsol.networking"]).factory("Repository",["$q","request",function(t,n){return function(t){return t=e(t),{find:function(e,r,u){return e=e||{},r>0&&(e.count=r),u>=0&&(e.offset=u),n.get(t,e)},findOneById:function(e,u){return n.get(r(t,e),u)},create:function(e){return n.post(t,null,e)},update:function(e,u){return n.put(r(t,e),null,u)},save:function(t){if(t.id){var n=t.id;return delete t.id,this.update(n,t)}return this.create(t)},"delete":function(e){return n.delete(r(t,e))}}}}])}(window,angular);